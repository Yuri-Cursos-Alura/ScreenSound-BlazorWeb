@page "/Artistas"
@inject ArtistaAPI api

<h1>Artistas</h1>

@if(_artistas is not null)
{
    if (_artistas.Count > 0)
    {
        <MudGrid>
            @foreach (var artista in _artistas)
            {
                <MudItem xs="3">
                    <ArtistCard Artista="artista" />
                </MudItem>
                
            }
        </MudGrid>

    }
    else
    {
        <p>Nenhum artista encontrado :&lt</p>
    }

}
else
{
    <p>Procurando... </p>
}

@code {
    private ICollection<ArtistaResponse>? _artistas { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _artistas = await api.GetArtistasAsync();
    }
}
